============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\mcwiz\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Scripts\python.exe
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: C:\Users\mcwiz\Projects\AgentOS
configfile: pyproject.toml
plugins: anyio-4.12.1, langsmith-0.6.4, benchmark-5.2.3, cov-7.0.0
collecting ... collected 15 items

tests/test_issue_141.py::test_070 PASSED                                 [  6%]
tests/test_issue_141.py::test_100 PASSED                                 [ 13%]
tests/test_issue_141.py::test_110 PASSED                                 [ 20%]
tests/test_issue_141.py::test_120 PASSED                                 [ 26%]
tests/test_issue_141.py::test_130 PASSED                                 [ 33%]
tests/test_issue_141.py::test_010 PASSED                                 [ 40%]
tests/test_issue_141.py::test_020 PASSED                                 [ 46%]
tests/test_issue_141.py::test_030 PASSED                                 [ 53%]
tests/test_issue_141.py::test_040 PASSED                                 [ 60%]
tests/test_issue_141.py::test_050 PASSED                                 [ 66%]
tests/test_issue_141.py::test_060 PASSED                                 [ 73%]
tests/test_issue_141.py::test_080 PASSED                                 [ 80%]
tests/test_issue_141.py::test_090 PASSED                                 [ 86%]
tests/test_issue_141.py::test_140 PASSED                                 [ 93%]
tests/test_issue_141.py::test_150 PASSED                                 [100%]
ERROR: Coverage failure: total of 7 is less than fail-under=95


============================== warnings summary ===============================
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\langchain_core\_api\deprecation.py:27
  C:\Users\mcwiz\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\langchain_core\_api\deprecation.py:27: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
    from pydantic.v1.fields import FieldInfo as FieldInfoV1

..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
..\..\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77
  C:\Users\mcwiz\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Lib\site-packages\pydantic\v1\typing.py:77: DeprecationWarning: ForwardRef._evaluate is a private API and is retained for compatibility, but will be removed in Python 3.16. Use ForwardRef.evaluate() or typing.evaluate_forward_ref() instead.
    return cast(Any, type_)._evaluate(globalns, localns, type_params=(), recursive_guard=set())

agentos\workflows\testing\audit.py:25
  C:\Users\mcwiz\Projects\AgentOS\agentos\workflows\testing\audit.py:25: PytestCollectionWarning: cannot collect test class 'TestReportMetadata' because it has a __init__ constructor (from: tests/test_issue_141.py)
    class TestReportMetadata(TypedDict):

agentos\workflows\testing\state.py:36
  C:\Users\mcwiz\Projects\AgentOS\agentos\workflows\testing\state.py:36: PytestCollectionWarning: cannot collect test class 'TestingWorkflowState' because it has a __init__ constructor (from: tests/test_issue_141.py)
    class TestingWorkflowState(TypedDict, total=False):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.14.0-final-0 _______________

Name                                                     Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------------------
agentos\__init__.py                                          1      0   100%
agentos\core\__init__.py                                     5      5     0%   3-30
agentos\core\audit.py                                      102    102     0%   12-328
agentos\core\config.py                                      16     16     0%   7-66
agentos\core\gemini_client.py                              281    281     0%   12-803
agentos\core\llm_provider.py                               147    147     0%   14-544
agentos\core\state.py                                        4      4     0%   7-13
agentos\graphs\__init__.py                                   0      0   100%
agentos\nodes\__init__.py                                    3      3     0%   3-6
agentos\nodes\designer.py                                  134    134     0%   15-501
agentos\nodes\lld_reviewer.py                               90     90     0%   7-335
agentos\workflow\__init__.py                                 2      2     0%   6-8
agentos\workflow\checkpoint.py                              27     27     0%   7-77
agentos\workflows\__init__.py                                0      0   100%
agentos\workflows\issue\__init__.py                          3      3     0%   10-13
agentos\workflows\issue\audit.py                           138    138     0%   12-474
agentos\workflows\issue\graph.py                            59     59     0%   11-249
agentos\workflows\issue\nodes\__init__.py                    8      8     0%   15-23
agentos\workflows\issue\nodes\draft.py                      94     94     0%   10-294
agentos\workflows\issue\nodes\file_issue.py                185    185     0%   9-472
agentos\workflows\issue\nodes\human_edit_draft.py          131    131     0%   9-252
agentos\workflows\issue\nodes\human_edit_verdict.py        140    140     0%   10-278
agentos\workflows\issue\nodes\load_brief.py                 49     49     0%   9-184
agentos\workflows\issue\nodes\review.py                     77     77     0%   9-193
agentos\workflows\issue\nodes\sandbox.py                    30     30     0%   11-104
agentos\workflows\issue\state.py                            18     18     0%   9-40
agentos\workflows\lld\__init__.py                            3      3     0%   17-20
agentos\workflows\lld\audit.py                             291    291     0%   14-875
agentos\workflows\lld\graph.py                              49     49     0%   12-195
agentos\workflows\lld\nodes.py                             347    347     0%   14-1040
agentos\workflows\lld\state.py                               7      7     0%   10-22
agentos\workflows\parallel\__init__.py                       5      5     0%   3-8
agentos\workflows\parallel\coordinator.py                   85     85     0%   3-184
agentos\workflows\parallel\credential_coordinator.py        34     34     0%   3-78
agentos\workflows\parallel\input_sanitizer.py               13     13     0%   3-39
agentos\workflows\parallel\output_prefixer.py               19     19     0%   3-45
agentos\workflows\requirements\__init__.py                   4      4     0%   17-31
agentos\workflows\requirements\audit.py                     35     35     0%   6-113
agentos\workflows\requirements\config.py                    68     68     0%   11-240
agentos\workflows\requirements\git_operations.py            30     30     0%   6-101
agentos\workflows\requirements\graph.py                     65     65     0%   26-298
agentos\workflows\requirements\nodes\__init__.py             6      6     0%   14-23
agentos\workflows\requirements\nodes\finalize.py            66     66     0%   6-142
agentos\workflows\requirements\nodes\generate_draft.py      77     77     0%   12-223
agentos\workflows\requirements\nodes\human_gate.py          44     44     0%   12-146
agentos\workflows\requirements\nodes\load_input.py          46     46     0%   6-98
agentos\workflows\requirements\nodes\review.py              59     59     0%   9-143
agentos\workflows\requirements\state.py                     43     43     0%   16-328
agentos\workflows\scout\__init__.py                          3      3     0%   7-18
agentos\workflows\scout\budget.py                           21     21     0%   7-76
agentos\workflows\scout\graph.py                             5      5     0%   6-62
agentos\workflows\scout\instrumentation.py                  40     40     0%   6-126
agentos\workflows\scout\nodes.py                           151    151     0%   6-337
agentos\workflows\scout\prompts.py                          11     11     0%   7-76
agentos\workflows\scout\security.py                         44     44     0%   6-132
agentos\workflows\scout\templates.py                        33     33     0%   6-124
agentos\workflows\testing\__init__.py                        3      0   100%
agentos\workflows\testing\audit.py                          82     23    72%   57-65, 78-82, 97, 171-215, 256-258, 287, 289, 291, 297, 302
agentos\workflows\testing\graph.py                          98     85    13%   70-73, 87-103, 117-125, 139-148, 162-165, 179-201, 215-229, 243-251, 261-363
agentos\workflows\testing\knowledge\__init__.py              2      0   100%
agentos\workflows\testing\knowledge\patterns.py             60     49    18%   21-32, 37, 97-116, 128-129, 141-149, 161-170, 184-193
agentos\workflows\testing\nodes\__init__.py                  9      0   100%
agentos\workflows\testing\nodes\document.py                140    126    10%   41-61, 73-84, 96-103, 115-116, 128-141, 153-166, 179-214, 226-360
agentos\workflows\testing\nodes\e2e_validation.py           93     80    14%   44-88, 109, 130, 142-283, 293-311
agentos\workflows\testing\nodes\finalize.py                100      0   100%
agentos\workflows\testing\nodes\implement_code.py          208    194     7%   29-45, 57-184, 197-288, 306-401, 417-435, 447-536, 545-610
agentos\workflows\testing\nodes\load_lld.py                204    185     9%   39-60, 77-88, 105-135, 152-254, 259-260, 265-277, 282-293, 298-314, 331-343, 357-397, 409-513, 531-602
agentos\workflows\testing\nodes\review_test_plan.py        139    122    12%   49-63, 75-83, 100-119, 137-143, 148, 208-256, 268-382, 400-413, 426-441, 449-496
agentos\workflows\testing\nodes\scaffold_tests.py          157    145     8%   39-127, 145-215, 220-238, 257-262, 274-330, 339-372
agentos\workflows\testing\nodes\verify_phases.py           160    149     7%   42-78, 100-198, 219-404, 415-439, 449-497
agentos\workflows\testing\state.py                           9      0   100%
agentos\workflows\testing\templates\__init__.py              5      0   100%
agentos\workflows\testing\templates\cp_docs.py              73     65    11%   23-33, 45-60, 72-83, 105-189, 211-296
agentos\workflows\testing\templates\lessons.py             115    107     7%   31-161, 174-199, 215-231, 243-257, 279-304
agentos\workflows\testing\templates\runbook.py              94     86     9%   22-37, 49-59, 71-81, 93-103, 125-259
agentos\workflows\testing\templates\wiki_page.py            74     67     9%   22-32, 44-48, 60-72, 92-152, 165-207
--------------------------------------------------------------------------------------
TOTAL                                                     5273   4930     7%
FAIL Required test coverage of 95% not reached. Total coverage: 6.50%
======================= 15 passed, 10 warnings in 0.71s =======================

