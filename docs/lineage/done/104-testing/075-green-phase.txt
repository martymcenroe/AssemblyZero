============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\mcwiz\AppData\Local\pypoetry\Cache\virtualenvs\unleashed-Zukdy2xA-py3.14\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\mcwiz\Projects\AgentOS
configfile: pyproject.toml
plugins: anyio-4.12.1, langsmith-0.6.4, cov-4.1.0
collecting ... collected 61 items

tests/test_issue_104.py::TestParser::test_010_parse_lld_verdict PASSED   [  1%]
tests/test_issue_104.py::TestParser::test_020_parse_issue_verdict PASSED [  3%]
tests/test_issue_104.py::TestParser::test_030_extract_blocking_issues PASSED [  4%]
tests/test_issue_104.py::TestParser::test_040_content_hash_change_detection PASSED [  6%]
tests/test_issue_104.py::TestParser::test_parse_verdict_no_blocking_issues PASSED [  8%]
tests/test_issue_104.py::TestParser::test_parse_verdict_conditional PASSED [  9%]
tests/test_issue_104.py::TestParser::test_parse_verdict_all_tiers PASSED [ 11%]
tests/test_issue_104.py::TestParser::test_content_hash_empty_string PASSED [ 13%]
tests/test_issue_104.py::TestParser::test_content_hash_unicode PASSED    [ 14%]
tests/test_issue_104.py::TestParser::test_blocking_issue_dataclass PASSED [ 16%]
tests/test_issue_104.py::TestParser::test_verdict_record_dataclass PASSED [ 18%]
tests/test_issue_104.py::TestPatterns::test_050_pattern_normalization PASSED [ 19%]
tests/test_issue_104.py::TestPatterns::test_060_category_mapping PASSED  [ 21%]
tests/test_issue_104.py::TestPatterns::test_normalize_pattern_various_inputs PASSED [ 22%]
tests/test_issue_104.py::TestPatterns::test_map_category_all_categories PASSED [ 24%]
tests/test_issue_104.py::TestPatterns::test_extract_patterns_from_issues PASSED [ 26%]
tests/test_issue_104.py::TestPatterns::test_extract_patterns_empty_list PASSED [ 27%]
tests/test_issue_104.py::TestTemplateUpdater::test_070_template_section_parsing PASSED [ 29%]
tests/test_issue_104.py::TestTemplateUpdater::test_080_recommendation_generation PASSED [ 31%]
tests/test_issue_104.py::TestTemplateUpdater::test_090_atomic_write_with_backup PASSED [ 32%]
tests/test_issue_104.py::TestTemplateUpdater::test_130_dry_run_mode PASSED [ 34%]
tests/test_issue_104.py::TestTemplateUpdater::test_140_stats_output_formatting PASSED [ 36%]
tests/test_issue_104.py::TestTemplateUpdater::test_parse_template_sections_empty PASSED [ 37%]
tests/test_issue_104.py::TestTemplateUpdater::test_parse_template_sections_no_headers PASSED [ 39%]
tests/test_issue_104.py::TestTemplateUpdater::test_generate_recommendations_empty_stats PASSED [ 40%]
tests/test_issue_104.py::TestTemplateUpdater::test_validate_template_path_valid PASSED [ 42%]
tests/test_issue_104.py::TestTemplateUpdater::test_format_stats_empty PASSED [ 44%]
tests/test_issue_104.py::TestTemplateUpdater::test_recommendation_dataclass PASSED [ 45%]
tests/test_issue_104.py::TestTemplateUpdater::test_atomic_write_creates_backup_suffix PASSED [ 47%]
tests/test_issue_104.py::TestTemplateUpdater::test_generate_recommendations_with_thresholds PASSED [ 49%]
tests/test_issue_104.py::TestScanner::test_100_multi_repo_discovery PASSED [ 50%]
tests/test_issue_104.py::TestScanner::test_110_missing_repo_handling PASSED [ 52%]
tests/test_issue_104.py::TestScanner::test_150_find_registry_parent_dir PASSED [ 54%]
tests/test_issue_104.py::TestScanner::test_160_find_registry_explicit_path PASSED [ 55%]
tests/test_issue_104.py::TestScanner::test_discover_verdicts_nested PASSED [ 57%]
tests/test_issue_104.py::TestScanner::test_discover_verdicts_no_verdicts_dir PASSED [ 59%]
tests/test_issue_104.py::TestScanner::test_scan_repos_with_database PASSED [ 60%]
tests/test_issue_104.py::TestScanner::test_scan_repos_force_reparse PASSED [ 62%]
tests/test_issue_104.py::TestScanner::test_find_registry_not_found PASSED [ 63%]
tests/test_issue_104.py::TestScanner::test_validate_verdict_path_valid PASSED [ 65%]
tests/test_issue_104.py::TestScanner::test_validate_verdict_path_absolute_outside PASSED [ 67%]
tests/test_issue_104.py::TestScanner::test_discover_verdicts_with_subdirs PASSED [ 68%]
tests/test_issue_104.py::TestScanner::test_scan_repos_multiple_repos PASSED [ 70%]
tests/test_issue_104.py::TestDatabase::test_120_database_migration PASSED [ 72%]
tests/test_issue_104.py::TestDatabase::test_170_force_reparse PASSED     [ 73%]
tests/test_issue_104.py::TestDatabase::test_200_parser_version_reparse PASSED [ 75%]
tests/test_issue_104.py::TestDatabase::test_220_database_directory_creation PASSED [ 77%]
tests/test_issue_104.py::TestDatabase::test_get_all_verdicts PASSED      [ 78%]
tests/test_issue_104.py::TestDatabase::test_get_stats PASSED             [ 80%]
tests/test_issue_104.py::TestDatabase::test_delete_verdict PASSED        [ 81%]
tests/test_issue_104.py::TestDatabase::test_upsert_verdict_with_issues PASSED [ 83%]
tests/test_issue_104.py::TestDatabase::test_get_patterns_by_category PASSED [ 85%]
tests/test_issue_104.py::TestDatabase::test_database_context_manager PASSED [ 86%]
tests/test_issue_104.py::TestDatabase::test_upsert_updates_existing PASSED [ 88%]
tests/test_issue_104.py::TestDatabase::test_get_verdict_by_path PASSED   [ 90%]
tests/test_issue_104.py::TestDatabase::test_get_verdict_not_found PASSED [ 91%]
tests/test_issue_104.py::TestSecurity::test_190_path_traversal_verdict PASSED [ 93%]
tests/test_issue_104.py::TestSecurity::test_195_path_traversal_template PASSED [ 95%]
tests/test_issue_104.py::TestSecurity::test_210_symlink_loop_handling SKIPPED [ 96%]
tests/test_issue_104.py::TestLogging::test_180_verbose_logging PASSED    [ 98%]
tests/test_issue_104.py::test_module_imports PASSED                      [100%]

---------- coverage: platform win32, python 3.14.0-final-0 -----------
Name                                         Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------
tools\verdict_analyzer\__init__.py               8      0   100%
tools\verdict_analyzer\database.py             111      4    96%   55, 98, 108-109
tools\verdict_analyzer\parser.py                55      1    98%   59
tools\verdict_analyzer\patterns.py              22      0   100%
tools\verdict_analyzer\scanner.py               85     11    87%   36, 106-107, 125-126, 130-131, 142-143, 184-185
tools\verdict_analyzer\template_updater.py      63      0   100%
--------------------------------------------------------------------------
TOTAL                                          344     16    95%

Required test coverage of 95% reached. Total coverage: 95.35%

======================== 60 passed, 1 skipped in 0.83s ========================

